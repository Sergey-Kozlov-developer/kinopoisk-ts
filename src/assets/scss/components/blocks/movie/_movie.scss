@use "../../layout/rootvars";
@use "../../../tools/mixins/index" as mix;
.movie {
	&__list {
		display: grid;
		grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
		gap: 24px;
		max-width: 1680px;
		margin: 0 auto;
		padding: 20px;

		@include mix.tablet {
			grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
			gap: 20px;
			padding: 16px;
		}

		@include mix.mobile {
			grid-template-columns: 1fr;
			gap: 16px;
			padding: 12px;
		}

		@include mix.smallmobile {
			gap: 12px;
			padding: 8px;
		}
	}
}

.movie-card {
	$self: &;

	background-color: var(--dark-color);
	border-radius: 12px;
	overflow: hidden;
	box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
	transition: all 0.3s ease;
	position: relative;
	display: flex;
	flex-direction: column;

	&:hover {
		transform: translateY(-4px);
		box-shadow: 0 16px 48px rgba(0, 0, 0, 0.4);

		#{$self}__img {
			transform: scale(1.05);
		}
	}

	&__img-container {
		position: relative;
		height: 250px;
		overflow: hidden;

		@include mix.tablet {
			height: 220px;
		}

		@include mix.mobile {
			height: 200px;
		}
	}

	&__img {
		width: 100%;
		height: 100%;
		object-fit: cover;
		transition: transform 0.3s ease;

		&.no-image {
			object-fit: contain;
			background-color: #2a2a2a;
			padding: 20px;
		}
	}

	&__overlay {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background: linear-gradient(
			180deg,
			rgba(30, 27, 38, 0) 0%,
			rgba(30, 27, 38, 0.8) 100%
		);
		z-index: 1;
	}

	&__content {
		padding: 20px;
		flex: 1;
		display: flex;
		flex-direction: column;
		gap: 12px;

		@include mix.mobile {
			padding: 16px;
			gap: 10px;
		}
	}

	&__title-row {
		display: flex;
		justify-content: space-between;
		align-items: flex-start;
		gap: 12px;
	}

	&__title {
		font-family: "Montserrat", sans-serif;
		font-size: 18px;
		font-weight: 700;
		color: #fff;
		line-height: 1.3;
		margin: 0;
		flex: 1;

		@include mix.mobile {
			font-size: 16px;
		}
	}

	&__year {
		font-family: "Montserrat", sans-serif;
		font-size: 12px;
		font-weight: 600;
		color: var(--text-lighter);
		background: rgba(255, 255, 255, 0.1);
		padding: 4px 8px;
		border-radius: 6px;
		margin-left: 8px;
	}

	&__rating {
		background-color: var(--brand-color);
		color: white;
		padding: 4px 8px;
		border-radius: 6px;
		font-family: "Montserrat", sans-serif;
		font-size: 12px;
		font-weight: 600;
		min-width: 30px;
		text-align: center;
	}

	&__metadata {
		display: flex;
		align-items: center;
		gap: 16px;
	}

	&__duration {
		display: flex;
		align-items: center;
		gap: 6px;
		font-size: 13px;
		color: var(--text-light);

		@include mix.mobile {
			font-size: 12px;
		}
	}

	&__duration-icon {
		width: 14px;
		height: 14px;
		fill: var(--text-light);
	}

	&__genres {
		display: flex;
		flex-wrap: wrap;
		gap: 6px;
	}

	&__genre {
		background-color: rgba(254, 65, 65, 0.1);
		border: 1px solid rgba(254, 65, 65, 0.2);
		padding: 4px 10px;
		border-radius: 16px;
		font-size: 11px;
		font-weight: 500;
		color: var(--text-lighter);
		white-space: nowrap;

		@include mix.mobile {
			font-size: 10px;
			padding: 3px 8px;
		}
	}

	&__ratings-row {
		display: flex;
		justify-content: space-between;
		align-items: center;
		padding: 12px 0;
		border-bottom: 1px solid rgba(255, 255, 255, 0.1);
	}

	&__star-rating {
		display: flex;
		align-items: center;
		gap: 8px;
	}

	&__stars {
		display: flex;
		gap: 2px;
	}

	&__star {
		width: 14px;
		height: 14px;

		&.filled {
			fill: #ffd700;
		}

		&.half {
			fill: #ffd700;
			opacity: 0.7;
		}
	}

	&__rating-text {
		font-size: 12px;
		font-weight: 600;
		color: var(--text-lighter);
	}

	&__likes {
		display: flex;
		align-items: center;
		gap: 6px;
		background-color: rgba(255, 255, 255, 0.05);
		padding: 6px 12px;
		border-radius: 20px;

		@include mix.mobile {
			padding: 4px 10px;
		}
	}

	&__heart-icon {
		width: 14px;
		height: 14px;
		fill: var(--brand-color);
	}

	&__likes-count {
		font-size: 12px;
		font-weight: 600;
		color: var(--text-light);
	}

	&__description {
		margin: 8px 0;

		&-title {
			font-family: "Montserrat", sans-serif;
			font-size: 13px;
			font-weight: 600;
			letter-spacing: 0.5px;
			margin-bottom: 8px;
			color: var(--text-lighter);
			text-transform: uppercase;

			@include mix.mobile {
				font-size: 12px;
			}
		}

		&-text {
			font-size: 13px;
			line-height: 1.5;
			color: var(--text-light);
			display: -webkit-box;
			-webkit-line-clamp: 3;
			-webkit-box-orient: vertical;
			overflow: hidden;
			text-overflow: ellipsis;

			@include mix.mobile {
				font-size: 12px;
				-webkit-line-clamp: 2;
			}
		}
	}

	&__actions {
		display: grid;
		grid-template-columns: 1fr auto auto auto;
		gap: 8px;
		align-items: center;
		margin-top: auto;
		padding-top: 12px;

		@include mix.mobile {
			grid-template-columns: 1fr;
			gap: 6px;
		}
	}

	&__watch-btn {
		background-color: var(--brand-color);
		border: none;
		border-radius: 8px;
		padding: 12px 16px;
		display: flex;
		align-items: center;
		justify-content: center;
		cursor: pointer;
		transition: all 0.3s ease;
		grid-column: 1;

		&:hover {
			background-color: #ff5151;
			transform: translateY(-2px);
		}

		@include mix.mobile {
			padding: 10px 14px;
			order: 1;
		}

		&-text {
			font-family: "Montserrat", sans-serif;
			font-size: 13px;
			font-weight: 600;
			color: white;
			margin-left: 8px;

			@include mix.mobile {
				font-size: 12px;
			}
		}
	}

	&__action-btn {
		width: 40px;
		height: 40px;
		display: flex;
		align-items: center;
		justify-content: center;
		cursor: pointer;
		background-color: rgba(255, 255, 255, 0.05);
		border-radius: 8px;
		transition: all 0.2s ease;

		&:hover {
			background-color: rgba(255, 255, 255, 0.1);
		}

		@include mix.mobile {
			width: 36px;
			height: 36px;
			order: 2;
		}
	}

	&__action-icon {
		width: 18px;
		height: 18px;
		fill: var(--text-lighter);
	}

	&__cast {
		margin: 12px 0;

		&-title {
			font-family: "Montserrat", sans-serif;
			font-size: 13px;
			font-weight: 600;
			letter-spacing: 0.5px;
			margin-bottom: 10px;
			color: var(--text-lighter);
			text-transform: uppercase;

			@include mix.mobile {
				font-size: 12px;
			}
		}

		&-list {
			display: flex;
			flex-wrap: wrap;
			gap: 12px;
		}

		&-item {
			display: flex;
			flex-direction: column;
			align-items: center;
			width: 60px;
		}

		&-photo {
			width: 50px;
			height: 50px;
			border-radius: 4px;
			margin-bottom: 5px;
			object-fit: cover;
			box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
		}

		&-name {
			font-size: 10px;
			text-align: center;
			color: var(--text-light);
			max-width: 100%;
			white-space: wrap;
		}
	}
}
// .movie-card {
// 	&__cast {
// 		margin: 12px 0;

// 		&-title {
// 			font-family: "Montserrat", sans-serif;
// 			font-size: 13px;
// 			font-weight: 600;
// 			letter-spacing: 0.5px;
// 			margin-bottom: 10px;
// 			color: var(--text-lighter);
// 			text-transform: uppercase;

// 			@include mix.mobile {
// 				font-size: 12px;
// 			}
// 		}

// 		&-list {
// 			display: flex;
// 			flex-wrap: wrap;
// 			gap: 12px;
// 		}

// 		&-item {
// 			display: flex;
// 			flex-direction: column;
// 			align-items: center;
// 			width: 60px;
// 		}

// 		&-photo {
// 			width: 50px;
// 			height: 50px;
// 			border-radius: 4px;
// 			margin-bottom: 5px;
// 			object-fit: cover;
// 			box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
// 		}

// 		&-name {
// 			font-size: 10px;
// 			text-align: center;
// 			color: var(--text-light);
// 			max-width: 100%;
// 			white-space: wrap;
// 		}
// 	}
// }
// Адаптивность для разных размеров экранов
@media (min-width: 1400px) {
	.movie {
		&__list {
			grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
		}
	}

	.movie-card {
		&__img-container {
			height: 280px;
		}
	}
}

@media (max-width: 1024px) {
	.movie {
		&__list {
			grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
		}
	}
}

@media (max-width: 768px) {
	.movie {
		&__list {
			grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
			gap: 16px;
		}
	}

	.movie-card {
		&__actions {
			grid-template-columns: 1fr;
		}

		&__watch-btn {
			order: 1;
		}

		&__action-btn {
			order: 2;
			width: 100%;
			height: 40px;
		}
	}
}

@media (max-width: 480px) {
	.movie {
		&__list {
			grid-template-columns: 1fr;
		}
	}

	.movie-card {
		margin-top: 0;

		&__title-row {
			flex-direction: column;
			align-items: flex-start;
			gap: 8px;
		}

		&__rating {
			align-self: flex-start;
		}

		&__ratings-row {
			flex-direction: column;
			align-items: flex-start;
			gap: 12px;
		}

		&__actions {
			grid-template-columns: repeat(4, 1fr);
			gap: 6px;
		}

		&__watch-btn {
			grid-column: span 3;
		}

		&__action-btn {
			width: 100%;
			height: 40px;
		}
	}
}

@media (max-width: 375px) {
	.movie-card {
		&__content {
			padding: 12px;
		}

		&__title {
			font-size: 15px;
		}

		&__description-text {
			font-size: 11px;
		}

		&__actions {
			grid-template-columns: 1fr;
		}

		&__watch-btn {
			grid-column: 1;
		}
	}
}

// Специальные стили для очень маленьких экранов
@media (max-width: 320px) {
	.movie-card {
		&__img-container {
			height: 180px;
		}

		&__title {
			font-size: 14px;
		}

		&__watch-btn {
			padding: 8px 12px;
		}

		&__action-btn {
			width: 32px;
			height: 32px;
		}

		&__action-icon {
			width: 16px;
			height: 16px;
		}
	}
}
